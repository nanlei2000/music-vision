(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n(34)},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(18),r=n.n(o),u=(n(32),n(11)),i=n(38),s=n(35),l=n(39),v=n(40),f=n(36),b=n(37),d=n(41),h=n(19),m=i.a(new Uint8Array);n(33);var w=n(3),j=n(20),C=n(21),g=n(23),p=n(22),T=n(24),O=function(e){function t(e){var n;return Object(j.a)(this,t),(n=Object(g.a)(this,Object(p.a)(t).call(this,e))).canvas=document.createElement("canvas"),n.ctx=void 0,n}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.ctx=this.canvas.getContext("2d")}},{key:"draw1",value:function(){console.log(this.ctx);for(var e=0;e<4;e++)for(var t=0;t<3;t++){this.ctx.beginPath();var n=25+50*t,a=25+50*e,c=Math.PI+Math.PI*t/2,o=e%2!=0;this.ctx.arc(n,a,20,0,c,o),e>1?(this.ctx.fill(),this.ctx.closePath()):(this.ctx.stroke(),this.ctx.closePath())}}},{key:"draw2",value:function(){var e=this.ctx;e.beginPath(),e.moveTo(75,25),e.quadraticCurveTo(25,25,25,62.5),e.quadraticCurveTo(25,100,50,100),e.quadraticCurveTo(50,120,30,125),e.quadraticCurveTo(60,120,65,100),e.quadraticCurveTo(125,100,125,62.5),e.quadraticCurveTo(125,25,75,25),e.stroke()}},{key:"draw3",value:function(){var e=this.ctx;e.beginPath(),e.moveTo(75,40),e.bezierCurveTo(75,37,70,25,50,25),e.bezierCurveTo(20,25,20,62.5,20,62.5),e.bezierCurveTo(20,80,40,102,75,120),e.bezierCurveTo(110,102,130,80,130,62.5),e.bezierCurveTo(130,62.5,130,25,100,25),e.bezierCurveTo(85,25,75,37,75,40),e.fillStyle="deeppink",e.fill()}},{key:"draw4",value:function(){!function(e,t,n,a,c,o){e.beginPath(),e.moveTo(t,n+o),e.lineTo(t,n+c-o),e.quadraticCurveTo(t,n+c,t+o,n+c),e.lineTo(t+a-o,n+c),e.quadraticCurveTo(t+a,n+c,t+a,n+c-o),e.lineTo(t+a,n+o),e.quadraticCurveTo(t+a,n,t+a-o,n),e.lineTo(t+o,n),e.quadraticCurveTo(t,n,t,n+o);e.fillStyle;e.stroke()}(this.ctx,12,12,150,150,15)}},{key:"render",value:function(){var e=this;return c.a.createElement("canvas",{ref:function(t){e.canvas=t},width:600,height:400})}}]),t}(a.Component);var y="https://raw.githubusercontent.com/nanlei2000/music-src/master/Levitate.mp3",k={pause:function(){},resume:function(){},close:function(){},subject:m},x=function(e){return e.reduce(function(e,t,n){return e.concat({index:n+1,volume:t})},[])};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=(t[0],t[1]),o=Object(a.useState)(y),r=Object(u.a)(o,2),i=r[0],m=r[1],j=Object(a.useState)(!1),C=Object(u.a)(j,2),g=C[0],p=C[1],T=Object(a.useState)(!1),q=Object(u.a)(T,2),E=(q[0],q[1],Object(a.useState)(!1)),S=Object(u.a)(E,2),z=S[0],P=S[1],A=Object(a.useState)(w.a.EMPTY),B=Object(u.a)(A,2),M=B[0],D=B[1],I=function(){return function(e){return fetch(e).then(function(e){return e.arrayBuffer()})}(i).then(function(e){return function(e){var t=e.src,n=e.volume,a=e.size,c=new(window.AudioContext||window.webkitAudioContext),o=c.createGain();o.gain.value=n,o.connect(c.destination);var r=c.createAnalyser();return r.fftSize=2*a,r.connect(o),c.decodeAudioData(t).then(function(e){var t=c.createBufferSource();t.buffer=e,t.loop=!0,t.connect(r),t.start(0);var n=new Uint8Array(r.frequencyBinCount),a=new s.a(n);return{pause:function(){c.suspend()},resume:function(){c.resume()},close:function(){c.close(),a.unsubscribe()},subject:l.a(0,v.a).pipe(Object(f.a)(function(){console.log(1),r.getByteFrequencyData(n)}),Object(b.a)(function(){return n}),Object(d.a)(a),Object(h.a)())}})}({src:e,size:128,volume:.6})}).then(function(e){k=e,J(e)})};return c.a.createElement("div",null,c.a.createElement("button",{style:{marginRight:"10px",backgroundColor:z?"orange":"unset"},onClick:function(){k.close(),P(!0),I().finally(function(){P(!1)})}},z?"loading":"load"),c.a.createElement("input",{onChange:function(e){return m(e.target.value)},value:i}),c.a.createElement("p",null,c.a.createElement("button",{onClick:function(){g?(k.pause(),M.unsubscribe(),p(!1)):(k.resume(),J(k),p(!0))}},"toggle")),c.a.createElement(O,null));function J(e){var t=e.subject.pipe(Object(b.a)(x)).subscribe(n);D(t)}},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.ee1befe0.chunk.js.map