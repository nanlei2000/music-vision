(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(33)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),o=n(22),r=n.n(o),u=(n(31),n(8)),i=n(39),s=n(35),f=n(42),l=n(40),b=n(36),d=n(37),j=n(41),m=n(23),p=i.a(new Uint8Array);var v=n(24),O=n.n(v);function g(e){var t=e.data,n=document.createElement("div"),o=Object(a.useState)(!1),r=Object(u.a)(o,2),i=r[0],s=r[1],f=Object(a.useState)(void 0),l=Object(u.a)(f,2),b=l[0],d=l[1];return Object(a.useEffect)(function(){if(!i){console.log("once");var e=new O.a.Chart({container:n,forceFit:!0,height:400,padding:{left:0,right:0,bottom:0,top:0}});e.source(t),e.axis(!1),e.legend(!1),e.tooltip(!1),e.line().position("index*volume").color("#000"),e.render(),d(e),s(!0)}return b&&i&&b.changeData(t),function(){}}),c.a.createElement("div",{id:"chart",ref:function(e){n=e}})}n(32);var w=n(38),h="http://47.94.108.47/Levitate.mp3",E={pause:function(){},resume:function(){},subject:p};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(h),i=Object(u.a)(r,2),p=i[0],v=i[1],O=Object(a.useState)(!1),y=Object(u.a)(O,2),S=y[0],k=y[1],C=Object(a.useState)(!1),x=Object(u.a)(C,2),A=x[0],B=x[1],z=Object(a.useState)(!1),D=Object(u.a)(z,2),q=D[0],F=D[1],J=function(){S?(E.pause(),k(!1)):(E.resume(),k(!0))},U=function(e){return fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){return function(e){var t=e.src,n=e.volume,a=e.size,c=new(window.AudioContext||window.webkitAudioContext),o=c.createGain();o.gain.value=n,o.connect(c.destination);var r=c.createAnalyser();return r.fftSize=2*a,r.connect(o),c.decodeAudioData(t).then(function(e){var t=c.createBufferSource();t.buffer=e,t.loop=!0,t.connect(r),t.start(0);var n=new Uint8Array(r.frequencyBinCount),a=new s.a(n);return{pause:function(){c.suspend()},resume:function(){c.resume()},subject:f.a(0,l.a).pipe(Object(b.a)(function(){r.getByteFrequencyData(n)}),Object(d.a)(function(){return n}),Object(j.a)(a),Object(m.a)())}})}({src:e,size:128,volume:.6})})};return Object(a.useEffect)(function(){A||(F(!0),U(p).then(function(e){E=e,e.subject.pipe(Object(d.a)(function(e){return e.reduce(function(e,t,n){return e.concat({index:n+1,volume:t})},[])})).subscribe(o),e.subject.pipe(Object(w.a)(1e3),Object(b.a)(function(e){console.log(e)})).subscribe()}).finally(function(){F(!1)})),B(!0)},[]),c.a.createElement("div",null,c.a.createElement("button",{style:{marginRight:"10px",backgroundColor:q?"orange":"unset"},onClick:function(){return J(),U(p)}},q?"loading":"load"),c.a.createElement("input",{onChange:function(e){return v(e.target.value)},value:p}),c.a.createElement("p",null,c.a.createElement("button",{onClick:function(){return J()}},"toggle")),c.a.createElement(g,{data:n}))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.6cefc61f.chunk.js.map